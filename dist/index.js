var handle;(()=>{"use strict";var e={d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Album:()=>l});class a extends HTMLElement{connectedCallback(){let e=this.getElementsByTagName("card-album-title"),t=this.getElementsByTagName("card-album-text"),a=this.getAttribute("image-src"),l=this.getAttribute("album-idx"),r=document.createElement("div"),i=document.createElement("img"),d=document.createElement("h5"),n=document.createElement("p");for(this.classList.add("col-6"),r.classList.add("card","card-border-none","mb-3"),r.setAttribute("onclick",`render('/page/album/${l}')`),i.classList.add("card-img-square"),d.classList.add("card-title","mt-2"),n.classList.add("card-text"),i.setAttribute("src",a),i.setAttribute("onerror","this.src='/static/image/album.jpg'"),d.innerText=e[0].innerText,n.innerText=t[0].innerText;this.firstChild;)this.removeChild(this.firstChild);r.appendChild(i),r.appendChild(d),r.appendChild(n),this.appendChild(r)}}class l{constructor(){}async create(e){return(await fetch("/api/album",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`album_title=${e.album_title}&album_text=${e.album_text}&album_image=${e.album_image}`})).json()}async read(e){let t="all"==e.album_idx?"":e.album_idx;return(await fetch(`/api/album/${t}`,{method:"GET"})).json()}async delete(e){return(await fetch(`/api/album/${e.album_idx}`,{method:"DELETE"})).json()}}customElements.define("card-album",a),handle=t})();